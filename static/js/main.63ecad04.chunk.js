(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{184:function(e,t,a){"use strict";a.r(t);var n=a(34),r=a(6),i=a(3),s=a(0),c=a.n(s),l=(a(80),a(83),a(19)),o=a.n(l),d=a(14),u=a(9),m=a(1),g=a(10),f=a(69),b=a.n(f),p=a(70),v=Object(g.b)({name:"counter",initialState:{value:0},reducers:{increase:function(e){e.value+=1},decrease:function(e){e.value-=1}}}),E=v.actions,h=(E.increase,E.decrease,v.reducer),j=Object(g.b)({name:"tag",initialState:{value:""},reducers:{updatetag:function(e,t){e.value=t.payload}}}),O=(j.actions.updatetag,j.reducer),N=Object(g.b)({name:"lang",initialState:{value:"ru"},reducers:{setEn:function(e){e.value="en"},setRu:function(e){e.value="ru"}}}),x=N.actions,w=x.setEn,S=x.setRu,y=N.reducer,k={key:"root",version:1,storage:b.a},C=Object(m.c)({counter:h,tag:O,lang:y}),_=Object(u.g)(k,C),D=Object(g.a)({reducer:_,middleware:function(e){return e({serializableCheck:{ignoredActions:[u.a,u.f,u.b,u.c,u.d,u.e]}})}}),I=Object(u.h)(D),R=function(e){return c.a.createElement(d.a,{store:D},c.a.createElement(p.a,{loading:null,persistor:I},e.children))},T=function(e){var t=e.tag,a=void 0===t?"div":t,n=e.children,r=e.className,i=void 0===r?"htmlcontainer":r,s="".concat(a);return c.a.createElement(s,{className:i,dangerouslySetInnerHTML:{__html:n}})},F=a(41),P=a.n(F),U=a(71),J=(a(94),a(72)),M=a.n(J);function z(e){var t=e.name,a=void 0===t?"myFile":t,n=e.handleImageChange,r=e.className,l=void 0===r?"":r,o=Object(s.useState)({myFile:""}),d=Object(i.a)(o,2),u=(d[0],d[1],Object(s.useState)(null)),m=Object(i.a)(u,2),g=m[0],f=(m[1],function(){var e=Object(U.a)(P.a.mark(function e(t){var a,r,i;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.name,r=t.target.files[0],e.next=4,b(r);case 4:i=e.sent,n(a,i);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b=function(e){return new Promise(function(t){M.a.imageFileResizer(e,1200,1200,"JPEG",100,0,function(e){t(e)},"base64")})};return c.a.createElement("div",{className:l},c.a.createElement("form",{className:"devutil"},c.a.createElement("input",{className:"devutil",type:"file",label:"Image",name:a,accept:".jpeg, .png, .jpg",onChange:function(e){return f(e)}})),c.a.createElement("img",{src:g,alt:""}))}var H,W=a(15),B=a(37),A=a(16),L=8,G=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),s=Object(i.a)(r,1)[0];return n.splice(a,0,s),n};function q(e){var t=e.updateState,a=e.state,n=A.a.div(H||(H=Object(W.a)(["\n    width: ","%;\n    border: 1px solid grey;\n    margin-bottom: ","px;\n    background-color: white;\n    padding: ","px;\n  "])),100/a.slides.length,L,L);function i(e){var t=e.slide,a=e.index;return c.a.createElement(B.b,{draggableId:t.id,index:a},function(e){return c.a.createElement(n,Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),c.a.createElement("img",{className:"img-responsive",src:t.imgurl||t.imagebase64||"images/img.jpg",alt:""}))})}var s=c.a.memo(function(e){return e.slides.map(function(e,t){return c.a.createElement(i,{slide:e,index:t,key:e.id})})});return c.a.createElement(B.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){var n=G(a.slides,e.source.index,e.destination.index);console.log(" slides ",n),t(Object(r.a)({},a,{slides:n}))}}},c.a.createElement(B.c,{droppableId:"list",direction:"horizontal"},function(e,t){return c.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{style:(n=t.isDraggingOver,{background:n?"lavender":"lightgrey",display:"flex",padding:L,overflow:"auto"})}),c.a.createElement(s,{slides:a.slides}),e.placeholder);var n}))}var K,Q,V,X,Y=a(43),Z=a.n(Y),$=(a(150),a(151),a(152),a(154),a(155),a(157),a(44)),ee=a.n($),te=a(186),ae=a(21),ne=(a(174),a(45)),re=a(77),ie=a.n(re),se=A.a.div(K||(K=Object(W.a)(["\n  display: flex;\n  margin: 0 7px;\n  margin-left: auto;\n"]))),ce=A.a.div(Q||(Q=Object(W.a)(["\n  /* This renders the buttons above... Edit me! */\n  display: flex;\n  /*border-radius: 3px;\n  border: 2px solid white;\n  padding: 0.5rem 0;\n  margin: 0.5rem 1rem;\n  width: 6rem;\n  height: 3rem;*/\n  background: transparent;\n  background-color: #ffffff66;\n  &:hover {\n    background-color: #ffffffff;\n  }\n  transition: background-color 0.5s;\n  color: black;\n  margin: 2px;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  border-bottom: ",";\n"])),function(e){return e.lang===e.curlang.toUpperCase()?"2px solid white;":""}),le=A.a.div(V||(V=Object(W.a)(["\n  display: flex;\n  margin: 5px;\n  /*width: 3rem;*/\n  align-items: center;\n  justify-content: center;\n"]))),oe=A.a.div(X||(X=Object(W.a)(["\n  margin: 5px;\n  display: flex;\n  width: 30px;\n  height: 18px;\n  align-items: center;\n  justify-content: center;\n  background-size: 100% 100%;\n  background-image: ",";\n"])),function(e){return"EN"===e.lang?"url('images/flag_en.png')":"url('images/flag_ru.png')"});function de(){var e=Object(d.c)(function(e){return e.lang.value}),t=Object(d.b)();return c.a.createElement(se,{className:"switchbggggg"},c.a.createElement("div",{className:"d-flex"},c.a.createElement(ce,{onClick:function(){return t(w())},lang:"EN",curlang:e},c.a.createElement(le,null,"EN"),c.a.createElement(oe,{lang:"EN",curlang:e})),c.a.createElement(ce,{onClick:function(){return t(S())},lang:"RU",curlang:e},c.a.createElement(le,null,"RU"),c.a.createElement(oe,{lang:"RU",curlang:e}))))}var ue={editMode:{ru:"\u0420\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",en:"Edit mode"},developerMode:{ru:"\u0420\u0435\u0436\u0438\u043c \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430",en:"Developer mode"},deleteThisSlide:{ru:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043b\u0430\u0439\u0434",en:"Delete this slide"},addNewSlide:{ru:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0441\u043b\u0430\u0439\u0434",en:"Delete this slide"},sorting:{ru:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430",en:"Sorting"},dragBlocks:{ru:"\u041f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0439\u0442\u0435 \u0431\u043b\u043e\u043a\u0438 \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0441\u043b\u0430\u0439\u0434\u043e\u0432",en:"Drag and drop blocks to change the order of slides"},saveSlider:{ru:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0435\u0440",en:"Save slider"},saveSliderWithoutImages:{ru:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0435\u0440 \u0431\u0435\u0437 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a",en:"Save slider without images"},sliderDefaultHeader:{ru:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",en:"Header"},sliderDefaultText:{ru:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043b\u0430\u0439\u0434\u0435\u0440\u0430",en:"Slider text"}},me="slider1",ge="https://sp.imweb.ru/api/canvas/upload.php",fe="https://sp.imweb.ru/implant/sp/cosmoslider2022/templates/default/iframe/api/data/",be="https://sp.imweb.ru/implant/sp/assets/sliderinit/sliderinit.js",pe="https://sp.imweb.ru/implant/sp/spslider/iframe/",ve="https://sp.imweb.ru/implant/sp/spslider/preview.html?sliderid=",Ee={time:3e3,slides:[{text:"\u0422\u0435\u043a\u0441\u0442 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0441\u043b\u0430\u0439\u0434\u0430",id:"id-1",head:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1"},{text:"\u0422\u0435\u043a\u0441\u0442 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0441\u043b\u0430\u0439\u0434\u0430",id:"id-2",head:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2"}]};function he(){var e=Object(ae.b)({state:!0}),t=Object(ae.b)({state:!1}),a=Object(s.useState)(0),l=Object(i.a)(a,2),o=l[0],u=l[1],m=Object(s.useState)(!1),g=Object(i.a)(m,2),f=g[0],b=g[1],p=Object(s.useState)(!1),v=Object(i.a)(p,2),E=v[0],h=v[1],j=Object(s.useState)(!1),O=Object(i.a)(j,2),N=O[0],x=O[1],w=Object(s.useState)(Ee),S=Object(i.a)(w,2),y=S[0],k=S[1],C=Object(s.useState)({}),_=Object(i.a)(C,2),D=_[0],I=_[1],R=Object(s.useState)(0),F=Object(i.a)(R,2),P=(F[0],F[1]),U=Object(s.useState)(ve),J=Object(i.a)(U,2),M=J[0],H=J[1],W=Object(s.useState)(""),B=Object(i.a)(W,2),A=B[0],L=B[1],G=Object(s.useState)({dots:!1,draggable:!0,arrows:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),K=Object(i.a)(G,2),Q=K[0],V=K[1],X=Object(s.useState)(0),Y=Object(i.a)(X,2),$=Y[0],re=Y[1],se=Object(s.useState)(),ce=Object(i.a)(se,2),le=ce[0],oe=ce[1],he=Object(s.useState)(),je=Object(i.a)(he,2),Oe=je[0],Ne=je[1],xe=Object(d.c)(function(e){return e.lang.value});Object(s.useEffect)(function(){var e=y.slides.map(function(e){return{id:e.id,text:e.text,head:e.head,image:e.imageurl||""}});I({data:{type:me,slides:e}})},[y]),Object(s.useEffect)(function(){e.state?V(function(e){return Object(r.a)({},e,{dots:!0,draggable:!1})}):V(function(e){return Object(r.a)({},e,{dots:!0,draggable:!0})})},[e.state]),Object(te.a)(function(){o<y.slides.length&&0!=o?ye(y.slides[o].imagebase64):(b(!0),ke())},[o]);var we=function(e){var t=e.target.value,a=e.target.name;k(function(e){return Object(r.a)({},e,{slides:e.slides.map(function(e){return e.id===a?Object(r.a)({},e,{text:t}):e})})})},Se=function(e){var t=e.target.value,a=e.target.name;k(function(e){return Object(r.a)({},e,{slides:e.slides.map(function(e){return e.id===a?Object(r.a)({},e,{head:t}):e})})})},ye=function(e){var t={sp:"testslider",canvas:e},a=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");fetch(ge,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:a}).then(function(e){if(!e.ok)throw new Error(e.status);return e}).then(function(e){return e.json()}).then(function(e){k(function(t){return Object(r.a)({},t,{slides:t.slides.map(function(t,a){return a===o?Object(r.a)({},t,{imgname:e.data.name,imgfile:e.data.file,imageurl:e.data.url}):t})})}),u(function(e){return e+1})}).catch(function(e){console.log("catch",e)})},ke=function(){h(!0),b(!1),fetch(fe,{method:"POST",body:JSON.stringify(D)}).then(function(e){if(!e.ok)throw new Error(e.status);return e}).then(function(e){return e.json()}).then(function(e){u(0),h(!1),P(e.response),L('\n        <script src="'.concat(be,'"><\/script>\n        <iframe src="').concat(pe,'" scrolling="no" style="width: 100%; height: 970px; border: 0px; overflow: hidden; " class="spSlider" data-sliderid="').concat(e.response,'"></iframe>\n        ')),H(ve+e.response),x(!0)}).catch(function(e){console.log(e)})},Ce=function(e,t){var a=t;k(function(t){return Object(r.a)({},t,{slides:t.slides.map(function(t){return t.id===e?Object(r.a)({},t,{imagebase64:a}):t})})})};return c.a.createElement("div",{className:"mainWrapper"},(f||E||N)&&c.a.createElement("div",{className:"blocker"},c.a.createElement("div",{className:"inblocker"},f&&c.a.createElement("div",{className:"waitinfo"},"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c.",c.a.createElement("br",null),"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439: ",o," \u0438\u0437 ",y.slides.length),E&&c.a.createElement("div",{className:"waitinfo"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"),N&&c.a.createElement("div",{className:"waitinfo resultcode"},c.a.createElement("div",null,"\u0421\u043b\u0430\u0439\u0434\u0435\u0440 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d. \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043f\u043e\xa0",c.a.createElement("a",{href:M,target:"_blank",rel:"noreferrer"},"\u0441\u0441\u044b\u043b\u043a\u0435"),"."),c.a.createElement("button",{className:"devutil closeresult",onClick:function(){return x(!1)}},"\u2716"),c.a.createElement("div",null,"\u0418\u043b\u0438 \u0441\u0440\u0430\u0437\u0443 \u0441\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u043a\u043e\u0434:"),c.a.createElement("div",{className:"codetocopy"},A),c.a.createElement("button",{className:"devutil",onClick:function(){document.addEventListener("copy",function(e){e.clipboardData.setData("text/plain",A),e.preventDefault()},!0),document.execCommand("copy"),x(!1)}},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434")))),c.a.createElement("div",{className:"topnav"},c.a.createElement("div",{className:"switchbg"},c.a.createElement(ae.a,e,ue.editMode[xe])),c.a.createElement("div",{className:"switchbg"},c.a.createElement(ae.a,t,ue.developerMode[xe])),c.a.createElement("button",{className:"devutil",onClick:function(){k(Ee),re(function(e){return e+1})}},"Reset"),c.a.createElement(de,null)),c.a.createElement("div",{className:"vspace"}),c.a.createElement("div",{className:"implantWrapper"},c.a.createElement("div",{className:"sliderbox"},c.a.createElement(ee.a,Object.assign({},Q,{key:"slick"+$,asNavFor:Oe,ref:function(e){return oe(e)}}),y.slides.map(function(a,n){return c.a.createElement("div",{className:"sliderbox-content",key:"slc"+n},c.a.createElement("div",{className:"sliderbox-content_img"},c.a.createElement("img",{className:"img-responsive",src:e.state?a.imagebase64||"images/img.jpg":a.imgurl||"images/img.jpg",alt:""}),e.state&&c.a.createElement(c.a.Fragment,null,c.a.createElement(z,{className:"imginput",handleImageChange:Ce,name:a.id}),c.a.createElement("button",{className:"devutil delete_slide",onClick:function(){return e=a.id,k(function(t){return Object(r.a)({},t,{slides:t.slides.filter(function(t){return t.id!==e})})}),void re(function(e){return e+1});var e}},ue.deleteThisSlide[xe])),t.state&&c.a.createElement("div",{className:"slide_id"},a.id)),c.a.createElement("div",{className:"sliderbox-content_dotspace"}))})),c.a.createElement(ee.a,Object.assign({},Q,{key:"secondslick"+$,asNavFor:le,dots:!1,arrows:!1,ref:function(e){return Ne(e)}}),y.slides.map(function(t,a){return c.a.createElement("div",{className:"sliderbox-content",key:"secondslc"+a},e.state?c.a.createElement(ne.a,{className:"sliderbox-content_head sliderbox-content_head_textarea",type:"text",id:t.id,name:t.id,onChange:Se,value:t.head}):c.a.createElement("div",{className:"sliderbox-content_head"},t.head),e.state?c.a.createElement(ne.a,{className:"sliderbox-content_about sliderbox-content_about_textarea",type:"text",id:t.id,name:t.id,onChange:we,value:t.text}):c.a.createElement("div",{className:"sliderbox-content_about"},c.a.createElement(T,null,t.text)))}))),e.state&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"devutil addslide",onClick:function(){var e=Object(n.a)(y.slides),t=ie.a.generate();e.push({text:"\u0422\u0435\u043a\u0441\u0442",id:t,head:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),k(function(t){return Object(r.a)({},t,{slides:e})})}},c.a.createElement("span",{className:"plus_add"},"+\xa0"),ue.addNewSlide[xe]),c.a.createElement("div",{className:"sortbg"},c.a.createElement("h3",{className:"devutil sorthead"},ue.sorting[xe]),c.a.createElement("div",{className:"devutil"},ue.dragBlocks[xe]),c.a.createElement(q,{updateState:k,initial:Ee,state:y})),c.a.createElement("div",{className:"saveCont"},c.a.createElement("button",{className:"devutil save_slider",onClick:function(){for(var e=0;e<y.slides.length;e++)if(!y.slides[e].imagebase64||-1===y.slides[e].imagebase64.indexOf("data"))return void alert("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 "+(e+1)+" \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e");b(!0),ye(y.slides[0].imagebase64)}},ue.saveSlider[xe]),t.state&&c.a.createElement("button",{className:"devutil save_slider",onClick:ke},ue.saveSliderWithoutImages[xe]))),t.state&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"devutil"},"slider array"),c.a.createElement("div",{className:"prismcode"},c.a.createElement(Z.a,{className:"language-javascript"},JSON.stringify(y.slides))),c.a.createElement("h3",{className:"devutil"},"final json"),c.a.createElement("div",{className:"prismcode"},c.a.createElement(Z.a,{className:"language-javascript"},JSON.stringify(D))))))}var je=document.getElementById("root");o.a.render(c.a.createElement(R,null,c.a.createElement(he,null)),je)},78:function(e,t,a){e.exports=a(184)},80:function(e,t,a){},83:function(e,t,a){}},[[78,2,1]]]);
//# sourceMappingURL=main.63ecad04.chunk.js.map